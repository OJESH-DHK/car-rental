{% extends 'dashboard/base/admin_base.html' %}

{% block title %}Edit Testimonial{% endblock %}

{% block content %}
<div class="container mt-5">
  <h2 class="mb-4 text-center">Edit Testimonial</h2>

  <div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">
      <form method="post" enctype="multipart/form-data" class="p-4 border rounded shadow-sm bg-white">
        {% csrf_token %}

        <div class="mb-4">
          <label for="{{ form.name.id_for_label }}" class="form-label fw-semibold">Name</label>
          {{ form.name }}
          {% if form.name.errors %}
            <div class="text-danger small mt-1">{{ form.name.errors }}</div>
          {% endif %}
        </div>

        <div class="mb-4">
          <label for="{{ form.position.id_for_label }}" class="form-label fw-semibold">Position</label>
          {{ form.position }}
          {% if form.position.errors %}
            <div class="text-danger small mt-1">{{ form.position.errors }}</div>
          {% endif %}
        </div>

        <div class="mb-4">
          <label for="{{ form.testimonial.id_for_label }}" class="form-label fw-semibold">Testimonial</label>
          {{ form.testimonial }}
          {% if form.testimonial.errors %}
            <div class="text-danger small mt-1">{{ form.testimonial.errors }}</div>
          {% endif %}
        </div>

        <div class="mb-4">
          <label for="{{ form.person_image.id_for_label }}" class="form-label fw-semibold">Person Image</label>
          {{ form.person_image }}
          {% if form.person_image.errors %}
            <div class="text-danger small mt-1">{{ form.person_image.errors }}</div>
          {% endif %}
          {% if form.instance.person_image %}
          <div class="mt-3 text-center">
            <img src="{{ form.instance.person_image.url }}" alt="Current Image" class="img-thumbnail" style="max-width: 200px;">
          </div>
          {% endif %}
        </div>

        <div class="d-flex justify-content-between">
          <a href="{% url 'admin_testimonials' %}" class="btn btn-outline-secondary px-4">Cancel</a>
          <button type="submit" class="btn btn-primary px-4">Update</button>
        </div>
      </form>
    </div>
  </div>
</div>

<style>
  /* Add bootstrap form-control class to inputs manually */
  input, textarea {
    width: 100%;
    padding: .5rem .75rem;
    font-size: 1.125rem;
    line-height: 1.5;
    color: #495057;
    background-color: #fff;
    border: 1px solid #ced4da;
    border-radius: .375rem;
    transition: border-color .15s ease-in-out, box-shadow .15s ease-in-out;
  }
  input:focus, textarea:focus {
    border-color: #86b7fe;
    outline: 0;
    box-shadow: 0 0 0 .25rem rgba(13,110,253,.25);
  }
  textarea {
    min-height: 120px;
  }
</style>
{% endblock %}
